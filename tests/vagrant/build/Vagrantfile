Vagrant.configure("2") do |config|
  config.vm.box = "bento/debian-13"

  # Bridged network - VM gets IP from your router/DHCP
  config.vm.network "public_network"

  # Sync project folder to VM
  config.vm.synced_folder "../../..", "/home/vagrant/wg-quickrs",
    type: "rsync",
    rsync__exclude: [".wg-quickrs", "src/target/", "src/wg-quickrs-web/dist/", "src/wg-quickrs-web/node_modules/", "src/wg-quickrs-web/pkg/", "tests/vagrant"]

  config.vm.provider :virtualbox do |vb|
    vb.name = "wg-quickrs-build-vagrant-vm"
    vb.memory = 4096  # 4 GB
    vb.cpus = 4
  end
end